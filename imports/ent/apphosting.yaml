
# Settings to manage and configure a Firebase App Hosting backend.
# https://firebase.google.com/docs/app-hosting/configure

# next.js apps require a custom build/run command configuration.
# see https://firebase.google.com/docs/app-hosting/framework-support/nextjs
# for more information.

build:
  command: "npm run build"

runConfig:
  # Increase this value if you'd like to automatically spin up
  # more instances in response to increased traffic.
  maxInstances: 1
  timeoutSeconds: 120
  env:
    - variable: GEMINI_API_KEY
      secret: GEMINI_API_KEY
    - variable: VERTEX_AI_API_KEY
      secret: VERTEX_AI_API_KEY

headers:
  - key: "Cache-Control"
    value: "max-age=604800"

rewrites:
  - source: "/api/**"
    run: { serviceId: "{SERVICE_ID}", region: "{REGION}" }

# We will add other configurations such as routes and frameworks here as needed.
